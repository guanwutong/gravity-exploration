<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>滑动摩擦力闯关大冒险</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "微软雅黑", sans-serif;
        }
        body {
            background-color: #f5f7fa;
            padding: 20px;
        }
        .game-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .game-title {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 24px;
        }
        .level-info {
            font-size: 18px;
            color: #3498db;
            margin-bottom: 15px;
            font-weight: bold;
        }
        .target-value {
            color: #e74c3c;
            font-size: 20px;
        }
        /* 接触面选择区 */
        .surface-area {
            margin: 20px 0;
        }
        .surface-area h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 18px;
        }
        .surface-btn {
            padding: 8px 15px;
            margin-right: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background-color: #ecf0f1;
            transition: all 0.3s;
        }
        .surface-btn.active {
            background-color: #3498db;
            color: white;
        }
        /* 钩码操作区 */
        .weight-area {
            margin: 20px 0;
        }
        .weight-area h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 18px;
        }
        .weight-btn {
            padding: 8px 15px;
            margin-right: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background-color: #ecf0f1;
        }
        .weight-display {
            display: inline-block;
            margin-left: 10px;
            font-size: 16px;
            color: #2c3e50;
        }
        /* 木块可视化区 */
        .block-area {
            margin: 20px 0;
            height: 150px;
            position: relative;
            border: 2px solid #bdc3c7;
            border-radius: 5px;
            overflow: hidden;
        }
        .surface {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 30px;
        }
        .surface-ice {
            background-color: #e3f2fd;
            background-image: linear-gradient(90deg, #bbdefb 50%, transparent 50%);
            background-size: 10px 10px;
        }
        .surface-wood {
            background-color: #d7ccc8;
            background-image: linear-gradient(90deg, #bcAAA4 50%, transparent 50%);
            background-size: 10px 10px;
        }
        .surface-towel {
            background-color: #a1887f;
            background-image: linear-gradient(90deg, #8D6E63 50%, transparent 50%);
            background-size: 10px 10px;
        }
        .block {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 60px;
            background-color: #795548;
            border-radius: 3px;
        }
        .weight {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 20px;
            background-color: #f44336;
            border-radius: 3px;
            color: white;
            text-align: center;
            line-height: 20px;
            font-size: 12px;
        }
        /* 操作与反馈区 */
        .operate-area {
            margin: 20px 0;
        }
        .slide-btn {
            padding: 10px 20px;
            background-color: #2ecc71;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        .slide-btn:hover {
            background-color: #27ae60;
        }
        .feedback {
            margin-top: 15px;
            font-size: 16px;
            min-height: 24px;
        }
        .success {
            color: #27ae60;
        }
        .error {
            color: #e74c3c;
        }
        .next-level {
            margin-top: 10px;
            padding: 8px 15px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: none;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1 class="game-title">滑动摩擦力闯关大冒险</h1>
        
        <!-- 关卡与目标值 -->
        <div class="level-info">
            当前关卡：<span id="level">1</span> | 目标摩擦力值：<span class="target-value" id="targetF">0.8</span>N
        </div>
        
        <!-- 接触面选择 -->
        <div class="surface-area">
            <h3>选择接触面：</h3>
            <button class="surface-btn active" data-coeff="0.2" data-type="ice">冰面（光滑）</button>
            <button class="surface-btn" data-coeff="0.4" data-type="wood">木板（中等）</button>
            <button class="surface-btn" data-coeff="0.6" data-type="towel">毛巾（粗糙）</button>
        </div>
        
        <!-- 钩码操作 -->
        <div class="weight-area">
            <h3>调整钩码（每钩码增加0.5N压力）：</h3>
            <button class="weight-btn" id="minusWeight">- 减少钩码</button>
            <button class="weight-btn" id="addWeight">+ 增加钩码</button>
            <span class="weight-display">当前钩码数：<span id="weightNum">0</span> | 总压力：<span id="totalPressure">1</span>N</span>
        </div>
        
        <!-- 木块可视化 -->
        <div class="block-area">
            <div class="surface surface-ice" id="surface"></div>
            <div class="block" id="block">
                <div class="weight" id="weight" style="display: none;">钩码</div>
            </div>
        </div>
        
        <!-- 操作与反馈 -->
        <div class="operate-area">
            <button class="slide-btn" id="slideBtn">滑动木块测摩擦力</button>
            <div class="feedback" id="feedback">请选择接触面、调整钩码后测试摩擦力</div>
            <button class="next-level" id="nextLevelBtn">进入下一关</button>
        </div>
    </div>

    <script>
        // 核心参数（贴合物理知识点：摩擦力=压力×摩擦系数）
        const basePressure = 1; // 木块自重1N
        const weightPer = 0.5;  // 每个钩码增加0.5N压力
        const levels = [
            { target: 0.8, tip: "试试木板面+0个钩码～" }, // 关卡1
            { target: 1.2, tip: "毛巾面+0个钩码 或 木板面+1个钩码都可以哦～" }, // 关卡2
            { target: 1.5, tip: "毛巾面+1个钩码试试！" }  // 关卡3
        ];
        
        // DOM元素
        const levelEle = document.getElementById("level");
        const targetFEle = document.getElementById("targetF");
        const surfaceBtns = document.querySelectorAll(".surface-btn");
        const surfaceEle = document.getElementById("surface");
        const minusWeightBtn = document.getElementById("minusWeight");
        const addWeightBtn = document.getElementById("addWeight");
        const weightNumEle = document.getElementById("weightNum");
        const totalPressureEle = document.getElementById("totalPressure");
        const weightEle = document.getElementById("weight");
        const slideBtn = document.getElementById("slideBtn");
        const feedbackEle = document.getElementById("feedback");
        const nextLevelBtn = document.getElementById("nextLevelBtn");
        
        // 游戏状态
        let currentLevel = 0; // 从0开始对应关卡1
        let currentCoeff = 0.2; // 当前接触面摩擦系数
        let currentWeightNum = 0; // 当前钩码数
        let currentPressure = basePressure; // 当前总压力
        
        // 初始化关卡
        function initLevel(levelIndex) {
            const levelData = levels[levelIndex];
            levelEle.textContent = levelIndex + 1;
            targetFEle.textContent = levelData.target;
            feedbackEle.textContent = "请选择接触面、调整钩码后测试摩擦力";
            feedbackEle.className = "feedback";
            nextLevelBtn.style.display = "none";
            
            // 重置接触面和钩码
            currentWeightNum = 0;
            currentPressure = basePressure;
            weightNumEle.textContent = 0;
            totalPressureEle.textContent = basePressure;
            weightEle.style.display = "none";
            surfaceBtns.forEach(btn => btn.classList.remove("active"));
            surfaceBtns[0].classList.add("active");
            currentCoeff = 0.2;
            surfaceEle.className = "surface surface-ice";
        }
        
        // 选择接触面
        surfaceBtns.forEach(btn => {
            btn.addEventListener("click", () => {
                surfaceBtns.forEach(b => b.classList.remove("active"));
                btn.classList.add("active");
                currentCoeff = parseFloat(btn.dataset.coeff);
                surfaceEle.className = `surface surface-${btn.dataset.type}`;
            });
        });
        
        // 增减钩码
        minusWeightBtn.addEventListener("click", () => {
            if (currentWeightNum > 0) {
                currentWeightNum--;
                currentPressure = basePressure + currentWeightNum * weightPer;
                weightNumEle.textContent = currentWeightNum;
                totalPressureEle.textContent = currentPressure;
                if (currentWeightNum === 0) {
                    weightEle.style.display = "none";
                }
            } else {
                feedbackEle.textContent = "钩码数不能再少啦！";
                feedbackEle.className = "feedback error";
            }
        });
        
        addWeightBtn.addEventListener("click", () => {
            currentWeightNum++;
            currentPressure = basePressure + currentWeightNum * weightPer;
            weightNumEle.textContent = currentWeightNum;
            totalPressureEle.textContent = currentPressure;
            weightEle.style.display = "block";
            weightEle.textContent = `${currentWeightNum}个`;
        });
        
        // 滑动测试摩擦力
        slideBtn.addEventListener("click", () => {
            const currentF = (currentPressure * currentCoeff).toFixed(1); // 计算当前摩擦力
            const targetF = levels[currentLevel].target.toFixed(1);
            
            if (currentF === targetF) {
                feedbackEle.textContent = `太棒了！测出的摩擦力${currentF}N正好匹配目标值，通关啦～`;
                feedbackEle.className = "feedback success";
                nextLevelBtn.style.display = "block";
            } else {
                feedbackEle.textContent = `测出的摩擦力是${currentF}N，和目标值${targetF}N不匹配哦～${levels[currentLevel].tip}`;
                feedbackEle.className = "feedback error";
            }
        });
        
        // 下一关
        nextLevelBtn.addEventListener("click", () => {
            currentLevel++;
            if (currentLevel < levels.length) {
                initLevel(currentLevel);
            } else {
                feedbackEle.textContent = "恭喜你！所有关卡都通关了，你已经掌握滑动摩擦力的秘密啦～";
                feedbackEle.className = "feedback success";
                nextLevelBtn.style.display = "none";
                slideBtn.disabled = true;
                slideBtn.style.backgroundColor = "#bdc3c7";
            }
        });
        
        // 初始化第一关
        initLevel(currentLevel);
    </script>
</body>
</html>